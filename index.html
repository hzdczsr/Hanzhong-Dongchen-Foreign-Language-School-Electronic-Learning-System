<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>辰光未来星 - 智能学习系统</title>
  <style>
    /* 全局样式 */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;
      line-height: 1.5;
      color: #333333;
      background-color: #ffffff;
      background-image: linear-gradient(to bottom right, #ffffff, #f5f5f5);
      overflow-x: hidden;
    }

    #root {
      width: 100%;
      min-height: 100vh;
    }

    /* 支付宝灵光APP风格变量 - 浅色主题 */
    :root {
      --primary-color: #0078d4;
      --secondary-color: #005a9e;
      --accent-color: #00b7c3;
      --background-color: #ffffff;
      --surface-color: #f0f0f0;
      --surface-hover-color: #e0e0e0;
      --text-color: #333333;
      --text-secondary-color: #666666;
      --border-color: #dddddd;
      --border-radius: 16px;
      --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.1);
      --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.15);
      --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.2);
      --shadow-xl: 0 12px 32px rgba(0, 0, 0, 0.25);
      --transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      --animation-duration: 0.8s;
      --bounce-duration: 0.6s;
      --pulse-duration: 2s;
    }

    /* 全局动画类 */
    .animate-fade-in {
      animation: fadeIn var(--animation-duration) ease-out forwards;
    }

    .animate-slide-up {
      animation: slideUp var(--animation-duration) ease-out forwards;
    }

    .animate-slide-in {
      animation: slideIn var(--animation-duration) ease-out forwards;
    }

    .animate-slide-right {
      animation: slideRight var(--animation-duration) ease-out forwards;
    }

    .animate-scale-in {
      animation: scaleIn var(--animation-duration) ease-out forwards;
    }

    .animate-float {
      animation: float var(--pulse-duration) ease-in-out infinite;
    }

    .animate-pulse {
      animation: pulse var(--pulse-duration) infinite ease-in-out;
    }

    .animate-bounce {
      animation: bounce var(--bounce-duration) ease-out;
    }

    .animate-ripple {
      position: relative;
      overflow: hidden;
    }

    .animate-ripple::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 5px;
      height: 5px;
      background: rgba(255, 255, 255, 0.5);
      opacity: 0;
      border-radius: 100%;
      transform: scale(1, 1) translate(-50%, -50%);
      transform-origin: 50% 50%;
    }

    .animate-ripple:focus:not(:active)::after {
      animation: ripple 0.6s ease-out;
    }

    /* 动画关键帧 */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateX(-20px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    @keyframes pulse {
      0%, 100% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.05);
      }
    }

    @keyframes bounce {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-10px);
      }
    }

    @keyframes slideRight {
      from {
        opacity: 0;
        transform: translateX(-20px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    @keyframes scaleIn {
      from {
        opacity: 0;
        transform: scale(0.9);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    @keyframes ripple {
      0% {
        transform: scale(0, 0);
        opacity: 0.5;
      }
      20% {
        transform: scale(25, 25);
        opacity: 0.3;
      }
      100% {
        opacity: 0;
        transform: scale(40, 40);
      }
    }

    @keyframes glow {
      0% {
        box-shadow: 0 0 5px rgba(0, 120, 212, 0.5);
      }
      50% {
        box-shadow: 0 0 20px rgba(0, 120, 212, 0.8), 0 0 30px rgba(0, 183, 195, 0.4);
      }
      100% {
        box-shadow: 0 0 5px rgba(0, 120, 212, 0.5);
      }
    }

    /* 自定义滚动条 */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }

    ::-webkit-scrollbar-track {
      background: var(--surface-color);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb {
      background: var(--border-color);
      border-radius: 4px;
      transition: var(--transition);
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--primary-color);
    }

    /* 导航栏 */
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.75rem 2rem;
      background-color: rgba(255, 255, 255, 0.85);
      background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.95), rgba(245, 245, 245, 0.95));
      border-bottom: 1px solid var(--border-color);
      box-shadow: var(--shadow-md);
      position: sticky;
      top: 0;
      z-index: 100;
      backdrop-filter: blur(16px);
      transition: var(--transition);
      transform: translateY(0);
    }

    .navbar:hover {
      background-color: rgba(255, 255, 255, 0.95);
      box-shadow: var(--shadow-lg);
    }

    .navbar.scrolled {
      transform: translateY(-2px);
      box-shadow: var(--shadow-xl);
    }

    .navbar-logo {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 1.5rem;
      font-weight: bold;
      color: var(--text-color);
      text-decoration: none;
      transition: var(--transition);
      cursor: pointer;
      padding: 0.5rem;
      border-radius: var(--border-radius);
    }

    .navbar-logo:hover {
      transform: translateY(-2px);
      background-color: rgba(255, 255, 255, 0.05);
    }

    .logo-icon {
      width: 40px;
      height: 40px;
      border-radius: var(--border-radius);
      background-color: var(--primary-color);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.2rem;
      transition: var(--transition);
    }

    .logo-icon:hover {
      transform: scale(1.1);
      box-shadow: var(--shadow-md);
    }

    .logo-image {
      width: 60px;
      height: 60px;
      border-radius: var(--border-radius);
      object-fit: contain;
      transition: var(--transition);
    }

    .logo-image:hover {
      transform: scale(1.1) rotate(5deg);
    }

    .navbar-nav {
      display: flex;
      gap: 2rem;
      list-style: none;
    }

    .navbar-nav button {
      background: none;
      border: none;
      color: var(--text-secondary-color);
      font-weight: 500;
      font-size: 1rem;
      cursor: pointer;
      padding: 0.75rem 1.25rem;
      position: relative;
      transition: var(--transition);
      border-radius: var(--border-radius);
      overflow: hidden;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      backdrop-filter: blur(4px);
    }

    .navbar-nav button:hover {
      color: var(--primary-color);
      background-color: rgba(0, 120, 212, 0.15);
      transform: translateY(-3px);
      box-shadow: var(--shadow-sm);
    }

    .navbar-nav button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(0, 120, 212, 0.25), transparent);
      transition: left 0.6s ease;
    }

    .navbar-nav button:hover::before {
      left: 100%;
    }

    .navbar-nav button.nav-active {
      color: var(--primary-color);
      background-color: rgba(0, 120, 212, 0.2);
      box-shadow: 0 2px 8px rgba(0, 120, 212, 0.3);
    }

    .navbar-nav button.nav-active::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 80%;
      height: 3px;
      background-color: var(--primary-color);
      border-radius: 2px;
      box-shadow: 0 0 10px rgba(0, 120, 212, 0.6);
    }

    .navbar-btn {
      padding: 0.8rem 1.8rem;
      background-color: var(--primary-color);
      background-image: linear-gradient(135deg, var(--primary-color), var(--accent-color));
      color: white;
      border: none;
      border-radius: var(--border-radius);
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: var(--shadow-sm);
      position: relative;
      overflow: hidden;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      backdrop-filter: blur(4px);
    }

    .navbar-btn:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 20px rgba(0, 120, 212, 0.4);
      animation: glow 1.5s ease-in-out infinite alternate;
    }

    .navbar-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      transition: left 0.6s ease;
    }

    .navbar-btn:hover::before {
      left: 100%;
    }

    .navbar-btn:active {
      transform: translateY(-1px);
      box-shadow: var(--shadow-md);
    }

    /* 英雄区域 */
    .hero {
      padding: 6rem 2rem;
      text-align: center;
      background-color: var(--background-color);
      background-image: linear-gradient(to bottom right, #ffffff, #f5f5f5),
                        radial-gradient(circle at 20% 50%, rgba(0, 120, 212, 0.18) 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(0, 183, 195, 0.18) 0%, transparent 50%);
      background-blend-mode: overlay;
      position: relative;
      overflow: hidden;
      border-bottom: 1px solid var(--border-color);
      min-height: 80vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: 
        radial-gradient(circle at 20% 50%, rgba(0, 120, 212, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(0, 183, 195, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 50% 80%, rgba(0, 120, 212, 0.08) 0%, transparent 50%);
      pointer-events: none;
      animation: gradientShift 12s ease infinite;
    }

    @keyframes gradientShift {
      0% { transform: translateX(0) translateY(0); }
      25% { transform: translateX(12%) translateY(6%); }
      50% { transform: translateX(0) translateY(12%); }
      75% { transform: translateX(-12%) translateY(6%); }
      100% { transform: translateX(0) translateY(0); }
    }

    .hero h1 {
      font-size: 3.8rem;
      font-weight: bold;
      margin-bottom: 1.5rem;
      color: var(--text-color);
      position: relative;
      z-index: 1;
      text-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      background: linear-gradient(135deg, var(--text-color), var(--primary-color));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: textGlow 3s ease-in-out infinite alternate;
    }

    @keyframes textGlow {
      from { text-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); }
      to { text-shadow: 0 4px 12px rgba(0, 120, 212, 0.4), 0 4px 8px rgba(0, 0, 0, 0.2); }
    }

    .hero p {
      font-size: 1.4rem;
      color: var(--text-secondary-color);
      margin-bottom: 3rem;
      position: relative;
      z-index: 1;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
      line-height: 1.6;
    }

    .hero-buttons {
      display: flex;
      gap: 2rem;
      justify-content: center;
      position: relative;
      z-index: 1;
      flex-wrap: wrap;
    }

    .btn {
      padding: 1rem 2.5rem;
      border: none;
      border-radius: var(--border-radius);
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 0.75rem;
      font-size: 1.1rem;
      box-shadow: var(--shadow-md);
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(4px);
      transform: translateY(0);
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transition: left 0.6s ease;
    }

    .btn:hover::before {
      left: 100%;
    }

    .btn:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
    }

    .btn:active {
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }

    .btn-primary {
      background-color: var(--primary-color);
      background-image: linear-gradient(135deg, var(--primary-color), var(--accent-color));
      color: white;
    }

    .btn-primary:hover {
      background-color: var(--secondary-color);
      box-shadow: 0 10px 25px rgba(0, 120, 212, 0.4);
      animation: glow 1.5s ease-in-out infinite alternate;
    }

    .btn-secondary {
      background-color: var(--surface-color);
      background-image: linear-gradient(135deg, var(--surface-color), var(--surface-hover-color));
      color: var(--primary-color);
      border: 1px solid var(--border-color);
    }

    .btn-secondary:hover {
      background-color: var(--surface-hover-color);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
      border-color: var(--primary-color);
    }

    /* 装饰元素 */
    .hero-decoration {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      pointer-events: none;
      z-index: 0;
    }

    .hero-decoration::after {
      content: '';
      position: absolute;
      top: 20%;
      left: 10%;
      width: 100px;
      height: 100px;
      border-radius: 50%;
      background: rgba(0, 120, 212, 0.1);
      filter: blur(40px);
      animation: float 8s ease-in-out infinite;
    }

    .hero-decoration::before {
      content: '';
      position: absolute;
      bottom: 20%;
      right: 10%;
      width: 150px;
      height: 150px;
      border-radius: 50%;
      background: rgba(0, 183, 195, 0.1);
      filter: blur(50px);
      animation: float 10s ease-in-out infinite reverse;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(180deg); }
    }

    /* 功能区域 */
    .features {
      padding: 6rem 2rem;
      max-width: 1200px;
      margin: 0 auto;
      background-color: var(--background-color);
      position: relative;
    }

    .features::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--border-color), transparent);
    }

    .features h2 {
      font-size: 3rem;
      font-weight: bold;
      text-align: center;
      margin-bottom: 4rem;
      color: var(--text-color);
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
      background: linear-gradient(135deg, var(--text-color), var(--accent-color));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      position: relative;
    }

    .features h2::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 4px;
      background: var(--primary-color);
      border-radius: 2px;
      animation: pulse 2s infinite ease-in-out;
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 2.5rem;
    }

    .feature-card {
      background-color: rgba(255, 255, 255, 0.85);
      background-image: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(245, 245, 245, 0.95));
      border-radius: var(--border-radius);
      padding: 2.5rem;
      border: 1px solid var(--border-color);
      box-shadow: var(--shadow-md);
      transition: var(--transition);
      text-align: left;
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(12px);
      transform: translateY(0) rotate(0deg);
      cursor: pointer;
    }

    .feature-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
      transform: scaleX(0);
      transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .feature-card:hover {
      transform: translateY(-12px) rotate(1deg);
      box-shadow: var(--shadow-xl);
      border-color: var(--primary-color);
      background-color: rgba(255, 255, 255, 0.98);
    }

    .feature-card:hover::before {
      transform: scaleX(1);
    }

    .feature-card::after {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent, rgba(0, 120, 212, 0.08), transparent);
      transform: rotate(45deg);
      transition: left 0.6s ease;
      pointer-events: none;
    }

    .feature-card:hover::after {
      left: 100%;
    }

    .feature-card:active {
      transform: translateY(-8px) rotate(0.5deg);
      box-shadow: var(--shadow-lg);
    }

    .feature-icon {
      width: 80px;
      height: 80px;
      border-radius: var(--border-radius);
      background-color: rgba(0, 120, 212, 0.15);
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 2rem;
      font-size: 2.2rem;
      color: var(--primary-color);
      transition: var(--transition);
      position: relative;
      z-index: 1;
      box-shadow: var(--shadow-sm);
      backdrop-filter: blur(4px);
    }

    .feature-card:hover .feature-icon {
      background-color: rgba(0, 120, 212, 0.25);
      transform: scale(1.15) rotate(12deg);
      box-shadow: 0 8px 16px rgba(0, 120, 212, 0.3);
      animation: glow 1.5s ease-in-out infinite alternate;
    }

    .feature-card h3 {
      font-size: 1.5rem;
      font-weight: bold;
      margin-bottom: 1.5rem;
      color: var(--text-color);
      position: relative;
      z-index: 1;
    }

    .feature-card p {
      color: var(--text-secondary-color);
      margin-bottom: 2rem;
      line-height: 1.6;
      position: relative;
      z-index: 1;
    }

    .feature-btn {
      padding: 0.8rem 1.5rem;
      background-color: rgba(0, 120, 212, 0.15);
      color: var(--primary-color);
      border: 1px solid var(--primary-color);
      border-radius: var(--border-radius);
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
      display: inline-flex;
      align-items: center;
      gap: 0.75rem;
      position: relative;
      z-index: 1;
      overflow: hidden;
      backdrop-filter: blur(4px);
      transform: translateY(0);
    }

    .feature-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(0, 120, 212, 0.35), transparent);
      transition: left 0.6s ease;
    }

    .feature-btn:hover::before {
      left: 100%;
    }

    .feature-btn:hover {
      background-color: var(--primary-color);
      color: white;
      transform: translateY(-4px);
      box-shadow: 0 8px 16px rgba(0, 120, 212, 0.4);
      animation: glow 1.5s ease-in-out infinite alternate;
    }

    .feature-btn:active {
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }

    /* 功能卡片动画延迟 */
    .feature-card:nth-child(1) {
      animation-delay: 0.1s;
    }

    .feature-card:nth-child(2) {
      animation-delay: 0.2s;
    }

    .feature-card:nth-child(3) {
      animation-delay: 0.3s;
    }

    .feature-card:nth-child(4) {
      animation-delay: 0.4s;
    }

    /* 功能页面 */
    .features-page {
      padding: 5rem 2rem;
      min-height: 100vh;
      background-color: var(--background-color);
      background-image: linear-gradient(to bottom right, #ffffff, #f5f5f5),
                        radial-gradient(circle at 20% 50%, rgba(0, 120, 212, 0.18) 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(0, 183, 195, 0.18) 0%, transparent 50%);
      background-blend-mode: overlay;
    }

    .features-page-header {
      text-align: center;
      margin-bottom: 5rem;
      padding-bottom: 2.5rem;
      border-bottom: 1px solid var(--border-color);
      position: relative;
    }

    .features-page-header::after {
      content: '';
      position: absolute;
      bottom: -1px;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--primary-color), transparent);
    }

    .features-page-header h1 {
      font-size: 3.2rem;
      font-weight: bold;
      margin-bottom: 1.5rem;
      color: var(--text-color);
      text-shadow: 0 4px 8px rgba(0, 0, 0, 0.6);
      background: linear-gradient(135deg, var(--text-color), var(--accent-color));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .features-page-header p {
      font-size: 1.3rem;
      color: var(--text-secondary-color);
      max-width: 800px;
      margin: 0 auto;
      line-height: 1.6;
    }

    .features-category {
      margin-bottom: 5rem;
      position: relative;
    }

    .features-category h2 {
      font-size: 2.2rem;
      font-weight: bold;
      margin-bottom: 2.5rem;
      color: var(--text-color);
      display: flex;
      align-items: center;
      gap: 1rem;
      position: relative;
      padding-left: 1rem;
    }

    .features-category h2::before {
      content: '';
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      width: 4px;
      height: 80%;
      background: linear-gradient(to bottom, var(--primary-color), var(--accent-color));
      border-radius: 2px;
    }

    .features-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 2.5rem;
    }

    .feature-item {
      background-color: rgba(255, 255, 255, 0.85);
      background-image: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(245, 245, 245, 0.95));
      border-radius: var(--border-radius);
      padding: 2.5rem;
      border: 1px solid var(--border-color);
      box-shadow: var(--shadow-md);
      transition: var(--transition);
      text-align: left;
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(12px);
      transform: translateY(0) rotate(0deg);
      cursor: pointer;
    }

    .feature-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
      transform: scaleX(0);
      transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .feature-item:hover {
      transform: translateY(-10px) rotate(1deg);
      box-shadow: var(--shadow-xl);
      border-color: var(--primary-color);
      background-color: rgba(255, 255, 255, 0.98);
    }

    .feature-item:hover::before {
      transform: scaleX(1);
    }

    .feature-item:active {
      transform: translateY(-6px) rotate(0.5deg);
      box-shadow: var(--shadow-lg);
    }

    .feature-item-icon {
      font-size: 3.5rem;
      margin-bottom: 2rem;
      transition: var(--transition);
      position: relative;
      z-index: 1;
      display: inline-block;
    }

    .feature-item:hover .feature-item-icon {
      transform: scale(1.25) rotate(12deg);
      animation: glow 1.5s ease-in-out infinite alternate;
    }

    .feature-item h3 {
      font-size: 1.4rem;
      font-weight: bold;
      margin-bottom: 1.25rem;
      color: var(--text-color);
      position: relative;
      z-index: 1;
    }

    .feature-item p {
      color: var(--text-secondary-color);
      margin-bottom: 2rem;
      line-height: 1.6;
      position: relative;
      z-index: 1;
    }

    .feature-item-btn {
      padding: 0.8rem 1.8rem;
      background-color: var(--primary-color);
      background-image: linear-gradient(135deg, var(--primary-color), var(--accent-color));
      color: white;
      border: none;
      border-radius: var(--border-radius);
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: var(--shadow-sm);
      position: relative;
      z-index: 1;
      overflow: hidden;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      backdrop-filter: blur(4px);
      transform: translateY(0);
    }

    .feature-item-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transition: left 0.6s ease;
    }

    .feature-item-btn:hover::before {
      left: 100%;
    }

    .feature-item-btn:hover {
      background-color: var(--secondary-color);
      transform: translateY(-4px);
      box-shadow: 0 8px 16px rgba(0, 120, 212, 0.4);
      animation: glow 1.5s ease-in-out infinite alternate;
    }

    .feature-item-btn:active {
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }

    /* 功能项动画延迟 */
    .feature-item:nth-child(1) {
      animation-delay: 0.1s;
    }

    .feature-item:nth-child(2) {
      animation-delay: 0.2s;
    }

    .feature-item:nth-child(3) {
      animation-delay: 0.3s;
    }

    /* AI对话区域 */
    .ai-chat {
      padding: 5rem 2rem;
      background-color: var(--background-color);
      background-image: linear-gradient(to bottom right, #1e1e1e, #252526);
      border-top: 1px solid var(--border-color);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .ai-chat-container {
      max-width: 850px;
      margin: 0 auto;
      background-color: var(--surface-color);
      background-image: linear-gradient(135deg, #2d2d30, #252526);
      border-radius: var(--border-radius);
      border: 1px solid var(--border-color);
      box-shadow: var(--shadow-xl);
      overflow: hidden;
      backdrop-filter: blur(8px);
      transition: var(--transition);
    }

    .ai-chat-container:hover {
      box-shadow: 0 16px 32px rgba(0, 0, 0, 0.4);
    }

    .ai-chat-header {
      padding: 1.5rem;
      background-color: var(--primary-color);
      background-image: linear-gradient(to right, #0078d4, #005a9e);
      color: white;
      font-weight: bold;
      font-size: 1.25rem;
      border-bottom: 1px solid var(--border-color);
    }

    .ai-chat-messages {
      padding: 1.75rem;
      height: 450px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 1.25rem;
      background-color: rgba(0, 0, 0, 0.1);
    }

    /* 自定义滚动条 */
    .ai-chat-messages::-webkit-scrollbar {
      width: 6px;
    }

    .ai-chat-messages::-webkit-scrollbar-track {
      background: var(--surface-color);
      border-radius: 3px;
    }

    .ai-chat-messages::-webkit-scrollbar-thumb {
      background: var(--border-color);
      border-radius: 3px;
    }

    .ai-chat-messages::-webkit-scrollbar-thumb:hover {
      background: var(--primary-color);
    }

    .message {
      max-width: 80%;
      padding: 1.25rem;
      border-radius: var(--border-radius);
      line-height: 1.5;
      box-shadow: var(--shadow-sm);
    }

    .message.user {
      align-self: flex-end;
      background-color: rgba(0, 120, 212, 0.2);
      color: var(--text-color);
      border: 1px solid rgba(0, 120, 212, 0.3);
      border-bottom-right-radius: 0;
    }

    .message.ai {
      align-self: flex-start;
      background-color: var(--surface-hover-color);
      color: var(--text-color);
      border: 1px solid var(--border-color);
      border-bottom-left-radius: 0;
    }

    .ai-chat-input {
      padding: 1.25rem;
      border-top: 1px solid var(--border-color);
      display: flex;
      gap: 0.75rem;
      background-color: var(--surface-color);
      background-image: linear-gradient(135deg, var(--surface-color), var(--surface-hover-color));
      backdrop-filter: blur(8px);
    }

    .ai-chat-input input {
      flex: 1;
      padding: 0.875rem 1.25rem;
      background-color: var(--background-color);
      background-image: linear-gradient(135deg, var(--background-color), rgba(0, 0, 0, 0.2));
      border: 1px solid var(--border-color);
      border-radius: var(--border-radius);
      font-size: 1rem;
      color: var(--text-color);
      transition: var(--transition);
      backdrop-filter: blur(4px);
    }

    .ai-chat-input input:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 2px rgba(0, 120, 212, 0.3);
      transform: translateY(-1px);
    }

    .ai-chat-input button {
      padding: 0.875rem 1.75rem;
      background-color: var(--primary-color);
      background-image: linear-gradient(135deg, var(--primary-color), var(--accent-color));
      color: white;
      border: none;
      border-radius: var(--border-radius);
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: var(--shadow-sm);
      backdrop-filter: blur(4px);
    }

    .ai-chat-input button:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 16px rgba(0, 120, 212, 0.4);
      animation: glow 1.5s ease-in-out infinite alternate;
    }

    .ai-chat-input button:disabled {
      background-color: var(--border-color);
      background-image: none;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
      opacity: 0.7;
    }

    .ai-chat-input button:active {
      transform: translateY(-1px);
      box-shadow: var(--shadow-md);
    }

    /* 响应式设计 */
    @media (max-width: 768px) {
      .navbar {
        padding: 0.75rem 1rem;
      }

      .navbar-nav {
        display: none;
      }

      .hero {
        padding: 4rem 1.5rem;
      }

      .hero h1 {
        font-size: 2.5rem;
      }

      .hero p {
        font-size: 1.1rem;
      }

      .hero-buttons {
        flex-direction: column;
        align-items: center;
        gap: 1rem;
      }

      .btn {
        width: 80%;
        max-width: 300px;
      }

      .features {
        padding: 3rem 1rem;
      }

      .features h2 {
        font-size: 2.2rem;
      }

      .features-grid {
        gap: 1.5rem;
      }

      .feature-card {
        padding: 2rem;
      }

      .ai-chat {
        padding: 3rem 1rem;
      }

      .ai-chat-messages {
        height: 350px;
        padding: 1.25rem;
      }

      .ai-chat-input {
        padding: 1rem;
        flex-direction: column;
      }

      .ai-chat-input input {
        width: 100%;
      }

      .ai-chat-input button {
        width: 100%;
        justify-content: center;
      }

      .features-page {
        padding: 3rem 1rem;
      }

      .features-page-header h1 {
        font-size: 2.2rem;
      }

      .features-list {
        gap: 1.5rem;
      }

      .feature-item {
        padding: 1.75rem;
      }
    }

    /* 加载动画 */
    .loading {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      color: var(--text-secondary-color);
    }

    .loading-dots {
      display: flex;
      gap: 0.25rem;
    }

    .loading-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background-color: var(--primary-color);
      animation: loading 1.5s infinite ease-in-out;
    }

    .loading-dot:nth-child(2) {
      animation-delay: 0.2s;
    }

    .loading-dot:nth-child(3) {
      animation-delay: 0.4s;
    }

    @keyframes loading {
      0%, 80%, 100% {
        transform: scale(0);
      }
      40% {
        transform: scale(1);
      }
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="module">
    // 消息类型定义
    class Message {
      constructor(id, role, content) {
        this.id = id;
        this.role = role;
        this.content = content;
      }
    }

    // 主应用组件
    function App() {
      // 页面状态
      const [currentPage, setCurrentPage] = React.useState('home');
      
      // AI对话状态
      const [messages, setMessages] = React.useState([]);
      const [inputValue, setInputValue] = React.useState('');
      const [isLoading, setIsLoading] = React.useState(false);
      
      // AI绘画状态
      const [drawPrompt, setDrawPrompt] = React.useState('');
      const [drawImage, setDrawImage] = React.useState('');
      const [isDrawing, setIsDrawing] = React.useState(false);
      const [drawError, setDrawError] = React.useState('');
      
      // AI出题测评状态
      const [assessmentState, setAssessmentState] = React.useState({
        // 配置信息
        selectedGrade: '',
        selectedSubject: '',
        selectedDifficulty: '',
        
        // 题目信息
        questions: [],
        currentQuestionIndex: 0,
        userAnswers: [],
        
        // 状态信息
        isLoading: false,
        error: '',
        showExplanation: false,
        explanation: '',
        
        // 追问功能
        showAskModal: false,
        askMessages: [],
        askInput: '',
        isAsking: false
      });
      
      // 关于我们状态
      const [aboutContent, setAboutContent] = React.useState('"辰光未来星"网站源于2026.02.01，是张晟睿根据既有项目"东辰未来星"制作的衍生产品。起初是为汉中东辰外国语学校提供相关智慧教育解决方案和想法设立的，后因观念更新等问题转向社会智慧教育解决方案研发。当前项目已经推出微信小程序版本（目前停留在教育版，不能在微信APP内搜索）和网站版本。网站已经永久托管在GitHub上，每月拥有100GB带宽，预计可接受一万人的月访问量。2026年6月，作者将开始HarmonyOS、Android、IOS的多端研发，预计2026年底全部出品，敬请期待！');
      const [isLoadingAbout, setIsLoadingAbout] = React.useState(false);
      const [aboutError, setAboutError] = React.useState('');
      
      // AI批改状态
      const [correctionState, setCorrectionState] = React.useState({
        // 上传状态
        image: '',
        isUploading: false,
        uploadError: '',
        
        // OCR状态
        ocrText: '',
        isScanning: false,
        ocrError: '',
        
        // 题目状态
        questions: [],
        showConfirmDialog: false,
        
        // 批改状态
        isCorrecting: false,
        correctionResults: [],
        correctionError: '',
        
        // API配置
        correctionApiKey: 'sk-lhqxeyguslqefacpoooxacftrijzrzuthxdqklonzrlaguer'
      });
      
      // 消息容器引用，用于滚动到最新消息
      const messagesEndRef = React.useRef(null);
      const askMessagesEndRef = React.useRef(null);

      // 当消息列表变化时，滚动到最新消息
      const scrollToBottom = () => {
        messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
      };

      React.useEffect(() => {
        scrollToBottom();
      }, [messages, isLoading]);
      
      // 组件挂载时设置about content
      React.useEffect(() => {
        // 直接使用硬编码的内容，不再从外部文件读取
        console.log('使用硬编码的about content');
      }, []);

      // 智谱AI API配置
      const API_KEY = '4622524be02c461ca169160d9f01669d.YlDaSBLuxodfrtvQ';
      const API_URL = 'https://open.bigmodel.cn/api/paas/v4/chat/completions';
      
      // 智谱AI绘画API配置
      const DRAW_API_KEY = '4e3c3ce38ddd41d29c13e09870cd6da8.Z85j4GcZyTseJwRl';
      const DRAW_API_URL = 'https://open.bigmodel.cn/api/paas/v4/images/generations';
      
      // AI出题测评API配置
      const ASSESSMENT_API_KEY = '98fddaa6837f4f44b74b77833b41eeb5.v3VlXWgal9CMoGWz';
      const ASSESSMENT_API_URL = 'https://open.bigmodel.cn/api/paas/v4/chat/completions';
      
      // AI解析API配置
      const EXPLANATION_API_KEY = '51735ef366ad4902911491584419ced1.YpdtFYPuUlDO49AE';
      const EXPLANATION_API_URL = 'https://open.bigmodel.cn/api/paas/v4/chat/completions';
      
      // AI答疑API配置
      const TUTOR_API_KEY = '3104bb3761dc4d388a382384185487ce.19ZLebuxco6OVUGm';
      const TUTOR_API_URL = 'https://open.bigmodel.cn/api/paas/v4/chat/completions';

      // 发送消息处理函数
      const handleSendMessage = async () => {
        if (!inputValue.trim() || isLoading) return;

        // 添加用户消息
        const userMessage = new Message(
          Date.now().toString(),
          'user',
          inputValue.trim()
        );
        setMessages(prev => [...prev, userMessage]);
        setInputValue('');
        setIsLoading(true);

        try {
          // 构建API请求参数
          const requestData = {
            model: 'glm-4.7-flash',
            messages: [
              {
                role: 'user',
                content: userMessage.content
              }
            ],
            thinking: {
              type: 'enabled'
            },
            max_tokens: 65536,
            temperature: 1.0
          };

          // 直接调用智谱AI API
          const response = await fetch(API_URL, {
            method: 'POST',
            headers: {
              'Authorization': `Bearer ${API_KEY}`,
              'Content-Type': 'application/json'
            },
            body: JSON.stringify(requestData)
          });

          // 检查响应状态
          if (!response.ok) {
            const errorData = await response.json().catch(() => ({}));
            throw new Error(errorData.error?.message || `API请求失败: ${response.status}`);
          }

          // 解析响应数据
          const data = await response.json();
          
          // 提取AI的回答
          const aiContent = data.choices?.[0]?.message?.content || 'AI暂时无法回答，请稍后重试';
          
          // 添加AI消息
          const aiMessage = new Message(
            (Date.now() + 1).toString(),
            'ai',
            aiContent
          );
          setMessages(prev => [...prev, aiMessage]);
          setIsLoading(false);
        } catch (error) {
          console.error('发送消息失败:', error);
          
          // 添加错误消息
          const errorMessage = new Message(
            (Date.now() + 1).toString(),
            'ai',
            `抱歉，AI服务暂时不可用。错误信息：${error.message || '未知错误'}`
          );
          setMessages(prev => [...prev, errorMessage]);
          setIsLoading(false);
        }
      };

      // 处理回车键发送消息
      const handleKeyPress = (e) => {
        if (e.key === 'Enter' && !e.shiftKey) {
          e.preventDefault();
          handleSendMessage();
        }
      };

      // 处理导航点击
      const handleNavClick = (page) => {
        setCurrentPage(page);
        // 重置对应页面的状态
        if (page === 'chat') {
          resetChatState();
        } else if (page === 'draw') {
          resetDrawState();
        } else if (page === 'assessment') {
          resetAssessmentState();
        } else if (page === 'correction') {
          resetCorrectionState();
        }
      };

      // 重置AI对话状态
      const resetChatState = () => {
        setMessages([]);
        setInputValue('');
        setIsLoading(false);
      };

      // 重置AI绘画状态
      const resetDrawState = () => {
        setDrawPrompt('');
        setDrawImage('');
        setIsDrawing(false);
        setDrawError('');
      };
      
      // 重置AI出题测评状态
      const resetAssessmentState = () => {
        setAssessmentState({
          selectedGrade: '',
          selectedSubject: '',
          selectedDifficulty: '',
          questions: [],
          currentQuestionIndex: 0,
          userAnswers: [],
          isLoading: false,
          error: '',
          showExplanation: false,
          explanation: '',
          showAskModal: false,
          askMessages: [],
          askInput: '',
          isAsking: false
        });
      };

      // AI绘画API调用函数
      const handleDrawImage = async () => {
        if (!drawPrompt.trim() || isDrawing) return;

        // 重置错误信息
        setDrawError('');
        setIsDrawing(true);
        setDrawImage('');

        try {
          // 构建API请求参数
          const requestData = {
            model: 'cogview-3-flash',
            prompt: drawPrompt.trim(),
            size: '1280x1280'
          };

          // 调用智谱AI绘画API
          const response = await fetch(DRAW_API_URL, {
            method: 'POST',
            headers: {
              'Authorization': `Bearer ${DRAW_API_KEY}`,
              'Content-Type': 'application/json'
            },
            body: JSON.stringify(requestData)
          });

          // 检查响应状态
          if (!response.ok) {
            const errorData = await response.json().catch(() => ({}));
            throw new Error(errorData.error?.message || `API请求失败: ${response.status}`);
          }

          // 解析响应数据
          const data = await response.json();
          
          // 提取生成的图像URL
          const imageUrl = data.data?.[0]?.url || '';
          
          if (!imageUrl) {
            throw new Error('生成图像失败，未返回图像URL');
          }
          
          // 设置生成的图像
          setDrawImage(imageUrl);
          setIsDrawing(false);
        } catch (error) {
          console.error('生成图像失败:', error);
          setDrawError(error.message || '生成图像失败，请稍后重试');
          setIsDrawing(false);
        }
      };

      // AI出题测评函数
      const handleGenerateQuestions = async () => {
        const { selectedGrade, selectedSubject, selectedDifficulty } = assessmentState;
        
        if (!selectedGrade || !selectedSubject || !selectedDifficulty) {
          setAssessmentState(prev => ({
            ...prev,
            error: '请选择学段、学科和难度'
          }));
          return;
        }

        setAssessmentState(prev => ({
          ...prev,
          isLoading: true,
          error: ''
        }));

        try {
          // 构建API请求参数
          const requestData = {
            model: 'glm-4.6v-flash',
            messages: [
              {
                role: 'user',
                content: `请为${selectedGrade}的${selectedSubject}学科生成5道${selectedDifficulty}难度的题目。每道题目需要包含题目内容、选项（如果是选择题）、正确答案。请按照以下格式返回：\n\n题目1：\n内容：...\n选项：A. ... B. ... C. ... D. ...\n答案：...\n\n题目2：\n内容：...\n选项：A. ... B. ... C. ... D. ...\n答案：...\n\n以此类推，共5道题目。`
              }
            ],
            thinking: {
              type: 'enabled'
            }
          };

          // 调用智谱AI出题API
          const response = await fetch(ASSESSMENT_API_URL, {
            method: 'POST',
            headers: {
              'Authorization': `Bearer ${ASSESSMENT_API_KEY}`,
              'Content-Type': 'application/json'
            },
            body: JSON.stringify(requestData)
          });

          // 检查响应状态
          if (!response.ok) {
            const errorData = await response.json().catch(() => ({}));
            throw new Error(errorData.error?.message || `API请求失败: ${response.status}`);
          }

          // 解析响应数据
          const data = await response.json();
          const content = data.choices?.[0]?.message?.content || '';

          // 解析题目
          const questions = parseQuestions(content);

          if (questions.length === 0) {
            throw new Error('生成题目失败，未返回有效题目');
          }

          // 设置生成的题目
          setAssessmentState(prev => ({
            ...prev,
            questions,
            currentQuestionIndex: 0,
            userAnswers: new Array(questions.length).fill(''),
            isLoading: false
          }));
        } catch (error) {
          console.error('生成题目失败:', error);
          setAssessmentState(prev => ({
            ...prev,
            error: error.message || '生成题目失败，请稍后重试',
            isLoading: false
          }));
        }
      };

      // 解析题目函数
      const parseQuestions = (content) => {
        const questions = [];
        const questionMatches = content.match(/题目\d+：[\s\S]*?(?=题目\d+：|$)/g);

        if (questionMatches) {
          questionMatches.forEach((match, index) => {
            // 提取题目内容
            const contentMatch = match.match(/内容：([\s\S]*?)(?=选项：|答案：|$)/);
            const questionContent = contentMatch ? contentMatch[1].trim() : '';

            // 提取选项
            const optionsMatch = match.match(/选项：([\s\S]*?)(?=答案：|$)/);
            let options = [];
            if (optionsMatch) {
              // 改进选项解析逻辑
              const optionsText = optionsMatch[1].trim();
              // 匹配每个选项，格式如：A. 选项内容
              const optionMatches = optionsText.match(/[A-D]\.\s*([^A-D]+)/g);
              if (optionMatches) {
                options = optionMatches.map(opt => opt.replace(/^[A-D]\.\s*/, '').trim());
              } else {
                // 如果解析失败，尝试简单分割
                options = optionsText.split(/\s*[A-D]\.\s*/).filter(opt => opt);
              }
            }

            // 提取答案
            const answerMatch = match.match(/答案：(.*?)(?=\n|$)/);
            const correctAnswer = answerMatch ? answerMatch[1].trim() : '';

            if (questionContent && correctAnswer) {
              questions.push({
                id: index + 1,
                content: questionContent,
                options: options.length > 0 ? options : null,
                correctAnswer: correctAnswer
              });
            }
          });
        }

        return questions;
      };

      // 处理用户答题函数
      const handleSubmitAnswer = (answer) => {
        const { questions, currentQuestionIndex, userAnswers } = assessmentState;
        const currentQuestion = questions[currentQuestionIndex];

        // 检查答案是否正确
        const isCorrect = answer.trim().toUpperCase() === currentQuestion.correctAnswer.trim().toUpperCase();

        // 更新用户答案
        const updatedAnswers = [...userAnswers];
        updatedAnswers[currentQuestionIndex] = answer;

        // 无论答案是否正确，都获取解析
        getQuestionExplanation(currentQuestion, answer, updatedAnswers, isCorrect);
      };

      // 获取题目解析函数
      const getQuestionExplanation = async (question, userAnswer, updatedAnswers, isCorrect) => {
        setAssessmentState(prev => ({
          ...prev,
          isLoading: true,
          userAnswers: updatedAnswers,
          showExplanation: true, // 立即显示解析框体
          explanation: '生成解析中...' // 显示生成中的提示
        }));

        try {
          // 构建API请求参数
          const requestData = {
            model: 'glm-4.7-flash',
            messages: [
              {
                role: 'user',
                content: `题目：${question.content}\n选项：${question.options ? question.options.map((opt, i) => `${String.fromCharCode(65 + i)}. ${opt}`).join(' ') : '无'}\n正确答案：${question.correctAnswer}\n用户答案：${userAnswer}\n请详细解析这道题，说明正确答案的原因和其他选项的错误之处。`
              }
            ],
            thinking: {
              type: 'enabled'
            },
            max_tokens: 65536,
            temperature: 1.0
          };

          // 调用智谱AI解析API
          const response = await fetch(EXPLANATION_API_URL, {
            method: 'POST',
            headers: {
              'Authorization': `Bearer ${EXPLANATION_API_KEY}`,
              'Content-Type': 'application/json'
            },
            body: JSON.stringify(requestData)
          });

          // 检查响应状态
          if (!response.ok) {
            const errorData = await response.json().catch(() => ({}));
            throw new Error(errorData.error?.message || `API请求失败: ${response.status}`);
          }

          // 解析响应数据
          const data = await response.json();
          const explanation = data.choices?.[0]?.message?.content || '';

          // 设置解析
          setAssessmentState(prev => ({
            ...prev,
            isLoading: false,
            showExplanation: true,
            explanation,
            isCorrect: isCorrect // 存储答案是否正确
          }));
        } catch (error) {
          console.error('获取解析失败:', error);
          setAssessmentState(prev => ({
            ...prev,
            isLoading: false,
            error: error.message || '获取解析失败，请稍后重试',
            isCorrect: isCorrect // 存储答案是否正确
          }));
        }
      };

      // 进入下一题函数
      const handleNextQuestion = () => {
        setAssessmentState(prev => {
          const nextIndex = prev.currentQuestionIndex + 1;
          return {
            ...prev,
            currentQuestionIndex: nextIndex,
            showExplanation: false,
            explanation: '',
            error: '',
            isCorrect: undefined // 重置答案正确状态
          };
        });
      };

      // 打开追问模态框函数
      const openAskModal = () => {
        const { currentQuestionIndex, questions } = assessmentState;
        const currentQuestion = questions[currentQuestionIndex];
        
        // 构建包含题目信息的提示
        const questionInfo = `题目：${currentQuestion.content}\n${currentQuestion.options ? `选项：${currentQuestion.options.map((opt, i) => `${String.fromCharCode(65 + i)}. ${opt}`).join(' ')}\n` : ''}正确答案：${currentQuestion.correctAnswer}`;
        
        setAssessmentState(prev => ({
          ...prev,
          showAskModal: true,
          askMessages: [
            {
              role: 'ai',
              content: `你好！我是辰光未来星的AI辅导老师，有什么问题可以问我？\n\n当前题目信息：\n${questionInfo}`
            }
          ]
        }));
      };

      // 关闭追问模态框函数
      const closeAskModal = () => {
        setAssessmentState(prev => ({
          ...prev,
          showAskModal: false,
          askMessages: [],
          askInput: '',
          isAsking: false
        }));
      };

      // 处理追问发送函数
      const handleAskQuestion = async () => {
        const { askInput, askMessages, currentQuestionIndex, questions } = assessmentState;
        const currentQuestion = questions[currentQuestionIndex];

        if (!askInput.trim()) return;

        // 添加用户问题
        const updatedMessages = [...askMessages, {
          role: 'user',
          content: askInput
        }];

        setAssessmentState(prev => ({
          ...prev,
          askMessages: updatedMessages,
          askInput: '',
          isAsking: true
        }));

        try {
          // 构建API请求参数
          const requestData = {
            model: 'glm-4.1v-thinking-flash',
            messages: [
              {
                role: 'user',
                content: `你是一个专业的AI辅导老师，擅长解答各种学科问题。\n\n${askInput}`
              }
            ],
            stream: false,
            temperature: 1
          };

          // 调用智谱AI答疑API
          const response = await fetch(TUTOR_API_URL, {
            method: 'POST',
            headers: {
              'Authorization': `Bearer ${TUTOR_API_KEY}`,
              'Content-Type': 'application/json'
            },
            body: JSON.stringify(requestData)
          });

          // 检查响应状态
          if (!response.ok) {
            const errorData = await response.json().catch(() => ({}));
            throw new Error(errorData.error?.message || `API请求失败: ${response.status}`);
          }

          // 解析响应数据
          const data = await response.json();
          const content = data.choices?.[0]?.message?.content || '';

          // 添加AI回答
          const finalMessages = [...updatedMessages, {
            role: 'assistant',
            content
          }];

          setAssessmentState(prev => ({
            ...prev,
            askMessages: finalMessages,
            isAsking: false
          }));
        } catch (error) {
          console.error('发送问题失败:', error);
          setAssessmentState(prev => ({
            ...prev,
            isAsking: false
          }));
        }
      };

      // 当追问消息列表变化时，滚动到最新消息
      const scrollAskToBottom = () => {
        askMessagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
      };

      React.useEffect(() => {
        scrollAskToBottom();
      }, [assessmentState.askMessages, assessmentState.isAsking]);
      
      // AI批改相关函数
      
      // 处理图片上传
      const handleImageUpload = (e) => {
        const file = e.target.files[0];
        if (!file) return;
        
        setCorrectionState(prev => ({ ...prev, isUploading: true, uploadError: '', ocrError: '' }));
        
        // 预览图片
        const reader = new FileReader();
        reader.onload = (event) => {
          const imageUrl = event.target.result;
          console.log('图片上传成功，URL:', imageUrl);
          
          // 先更新状态
          setCorrectionState(prev => ({
            ...prev, 
            image: imageUrl, 
            isUploading: false
          }));
          
          // 不做检验，直接调用OCR扫描
          console.log('直接调用OCR扫描');
          handleOCRScan();
        };
        reader.onerror = () => {
          setCorrectionState(prev => ({ 
            ...prev, 
            uploadError: '图片上传失败，请重试', 
            isUploading: false 
          }));
        };
        reader.readAsDataURL(file);
      };
      
      // 获取百度OCR API token
      const getBaiduToken = async (apiKey, secretKey) => {
        const tokenUrl = 'https://aip.baidubce.com/oauth/2.0/token';
        const params = new URLSearchParams({
          grant_type: 'client_credentials',
          client_id: apiKey,
          client_secret: secretKey
        });
        
        try {
          const response = await fetch(`${tokenUrl}?${params.toString()}`, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/x-www-form-urlencoded'
            }
          });
          
          if (!response.ok) {
            throw new Error(`获取token失败: ${response.status}`);
          }
          
          const data = await response.json();
          return data.access_token;
        } catch (error) {
          console.error('获取百度OCR token失败:', error);
          throw error;
        }
      };
      
      // 调用百度OCR API进行扫描
      const handleOCRScan = async () => {
        const currentState = correctionState;
        const { image } = currentState;
        console.log('开始OCR扫描，图片状态:', !!image);
        
        if (!image) {
          console.error('图片未上传，无法进行OCR扫描');
          setCorrectionState(prev => ({ ...prev, ocrError: '请先上传图片', isScanning: false }));
          return;
        }
        
        // 确保扫描状态为true
        setCorrectionState(prev => ({ ...prev, isScanning: true, ocrError: '' }));
        
        try {
          // 百度OCR API密钥
          const apiKey = 'your-api-key'; // 请替换为实际的API Key
          const secretKey = 'your-secret-key'; // 请替换为实际的Secret Key
          
          // 获取token
          console.log('获取百度OCR token...');
          const token = await getBaiduToken(apiKey, secretKey);
          console.log('获取token成功');
          
          // 处理图片数据：从base64 URL中提取数据部分
          const base64Data = image.split(',')[1];
          
          // 构建API请求参数
          const requestData = new URLSearchParams({
            image: base64Data
          });
          
          // 百度OCR API地址
          const apiUrl = `https://aip.baidubce.com/rest/2.0/ocr/v1/general_basic?access_token=${token}`;
          console.log('发送百度OCR API请求...');
          
          // 调用百度OCR API
          const response = await fetch(apiUrl, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/x-www-form-urlencoded'
            },
            body: requestData.toString()
          });
          
          console.log('百度OCR API响应状态:', response.status);
          
          // 检查响应状态
          if (!response.ok) {
            const errorData = await response.json().catch(() => ({}));
            throw new Error(errorData.error_msg || `API请求失败: ${response.status}`);
          }
          
          // 解析响应数据
          const data = await response.json();
          console.log('百度OCR识别结果:', data);
          
          // 处理识别结果
          let ocrText = '';
          if (data.words_result && data.words_result.length > 0) {
            ocrText = data.words_result.map(item => item.words).join('\n');
          }
          
          console.log('提取的文本:', ocrText);
          
          // 解析OCR结果为题目列表
          const questions = parseOCRToQuestions(ocrText);
          console.log('解析的题目数量:', questions.length);
          
          // 更新状态
          setCorrectionState(prev => ({
            ...prev,
            ocrText,
            questions,
            showConfirmDialog: true,
            isScanning: false
          }));
        } catch (error) {
          console.error('OCR扫描失败:', error);
          setCorrectionState(prev => ({
            ...prev,
            ocrError: `OCR扫描失败: ${error.message}`,
            isScanning: false
          }));
        }
      };
      
      // 解析OCR结果为题目列表
      const parseOCRToQuestions = (ocrText) => {
        // 简单的题目解析逻辑，实际应用中可能需要更复杂的解析
        const lines = ocrText.split('\n').filter(line => line.trim());
        const questions = [];
        let currentQuestion = null;
        
        lines.forEach(line => {
          if (line.match(/^\d+\.|^题目\d+/)) {
            // 新题目开始
            if (currentQuestion) {
              questions.push(currentQuestion);
            }
            currentQuestion = {
              id: questions.length + 1,
              content: line.trim(),
              options: [],
              userAnswer: '',
              correctAnswer: ''
            };
          } else if (currentQuestion && line.match(/^[A-D]\./)) {
            // 选项
            currentQuestion.options.push(line.trim());
          } else if (currentQuestion) {
            // 题目内容或答案
            currentQuestion.content += ' ' + line.trim();
          }
        });
        
        if (currentQuestion) {
          questions.push(currentQuestion);
        }
        
        return questions;
      };
      
      // 确认OCR结果
      const confirmOCRResult = (isCorrect) => {
        if (isCorrect) {
          // 进入批改环节
          handleCorrection();
        } else {
          // 重新上传
          setCorrectionState(prev => ({
            ...prev,
            showConfirmDialog: false,
            image: '',
            ocrText: '',
            questions: []
          }));
        }
      };
      
      // 调用批改API
      const handleCorrection = async () => {
        const { questions, correctionApiKey } = correctionState;
        if (questions.length === 0) {
          setCorrectionState(prev => ({ ...prev, correctionError: '没有可批改的题目' }));
          return;
        }
        
        setCorrectionState(prev => ({ ...prev, isCorrecting: true, correctionError: '' }));
        
        try {
          const correctionResults = [];
          
          // 逐个题目进行批改
          for (const question of questions) {
            // 构建API请求参数
            const requestData = {
              model: 'deepseek-ai/DeepSeek-R1-0528-Qwen3-8B',
              messages: [
                { role: 'system', content: '你是一个批改老师，负责批改学生的作业和试卷，只分满分和不满分，如果不满分要给出错误解释' },
                { role: 'user', content: `请批改这道题目：\n${question.content}\n${question.options.map(opt => opt).join('\n')}\n学生答案：${question.userAnswer || '未作答'}\n请判断是否满分，如果不满分请给出错误解释` }
              ]
            };
            
            // 调用批改API
            const response = await fetch('https://api.siliconflow.cn/v1/chat/completions', {
              method: 'POST',
              headers: {
                'Authorization': `Bearer ${correctionApiKey}`,
                'Content-Type': 'application/json'
              },
              body: JSON.stringify(requestData)
            });
            
            // 检查响应状态
            if (!response.ok) {
              const errorData = await response.json().catch(() => ({}));
              throw new Error(errorData.error?.message || `API请求失败: ${response.status}`);
            }
            
            // 解析响应数据
            const data = await response.json();
            const correctionResult = data.choices?.[0]?.message?.content || '';
            
            // 解析批改结果
            const isFullScore = correctionResult.includes('满分') || correctionResult.includes('正确');
            const explanation = isFullScore ? '' : correctionResult;
            
            correctionResults.push({
              questionId: question.id,
              questionContent: question.content,
              isFullScore,
              explanation
            });
          }
          
          // 更新批改结果
          setCorrectionState(prev => ({
            ...prev,
            correctionResults,
            isCorrecting: false,
            showConfirmDialog: false
          }));
        } catch (error) {
          console.error('批改失败:', error);
          setCorrectionState(prev => ({
            ...prev,
            correctionError: `批改失败: ${error.message}`,
            isCorrecting: false
          }));
        }
      };
      
      // 重置批改状态
      const resetCorrectionState = () => {
        setCorrectionState({
          image: '',
          isUploading: false,
          uploadError: '',
          ocrText: '',
          isScanning: false,
          ocrError: '',
          questions: [],
          showConfirmDialog: false,
          isCorrecting: false,
          correctionResults: [],
          correctionError: '',
          correctionApiKey: 'sk-lhqxeyguslqefacpoooxacftrijzrzuthxdqklonzrlaguer'
        });
      };

      // 首页
      const renderHomePage = () => (
        React.createElement(React.Fragment, null, [
          // 英雄区域
          React.createElement('section', { className: 'hero' }, [
            React.createElement('h1', null, '智能学习，点亮未来'),
            React.createElement('p', null, '辰光未来星 - 您的个性化AI学习助手，让学习更高效、更有趣'),
            React.createElement('div', { className: 'hero-buttons' }, [
              React.createElement('button', {
                className: 'btn btn-primary',
                onClick: () => handleNavClick('features')
              }, '探索功能'),
              React.createElement('button', {
                className: 'btn btn-secondary',
                onClick: () => handleNavClick('chat')
              }, '立即对话')
            ])
          ]),

          // 功能区域预览
          React.createElement('section', { className: 'features', id: 'features' }, [
            React.createElement('h2', null, '核心功能'),
            React.createElement('div', { className: 'features-grid' }, [
              React.createElement('div', { className: 'feature-card' }, [
                React.createElement('div', { className: 'feature-icon' }, '💬'),
                React.createElement('h3', null, 'AI智能问答'),
                React.createElement('p', null, '基于智谱AI的强大对话能力，为您提供专业、准确的学习解答'),
                React.createElement('button', {
                  className: 'feature-btn',
                  onClick: () => handleNavClick('features')
                }, '了解更多')
              ]),
              React.createElement('div', { className: 'feature-card' }, [
                React.createElement('div', { className: 'feature-icon' }, '🎨'),
                React.createElement('h3', null, 'AI绘画'),
                React.createElement('p', null, '使用先进的AI绘画技术，将您的创意变为现实'),
                React.createElement('button', {
                  className: 'feature-btn',
                  onClick: () => handleNavClick('draw')
                }, '了解更多')
              ]),
              React.createElement('div', { className: 'feature-card' }, [
                React.createElement('div', { className: 'feature-icon' }, '📝'),
                React.createElement('h3', null, 'AI出题测评'),
                React.createElement('p', null, '根据您的学习进度，智能生成个性化测评题目'),
                React.createElement('button', {
                  className: 'feature-btn',
                  onClick: () => handleNavClick('assessment')
                }, '了解更多')
              ]),
              React.createElement('div', { className: 'feature-card' }, [
                React.createElement('div', { className: 'feature-icon' }, '✨'),
                React.createElement('h3', null, 'AI批改'),
                React.createElement('p', null, '快速批改作业和试卷，提供详细的分析和建议'),
                React.createElement('button', {
                  className: 'feature-btn',
                  onClick: () => handleNavClick('features')
                }, '了解更多')
              ])
            ])
          ])
        ])
      );

      // 功能页面
      const renderFeaturesPage = () => (
        React.createElement('div', { className: 'features-page' }, [
          React.createElement('div', { className: 'features-page-header' }, [
            React.createElement('h1', null, '强大功能，智能学习'),
            React.createElement('p', null, '辰光未来星提供多种AI驱动的学习工具，满足您的各种学习需求，让学习变得更加高效、有趣。')
          ]),
          
          // AI 工具分类
          React.createElement('div', { className: 'features-category' }, [
            React.createElement('h2', null, '🤖 AI 智能工具'),
            React.createElement('div', { className: 'features-list' }, [
              // AI对话功能
              React.createElement('div', { className: 'feature-item' }, [
                React.createElement('div', { className: 'feature-item-icon' }, '💬'),
                React.createElement('h3', null, 'AI智能对话'),
                React.createElement('p', null, '与AI进行实时对话，获取专业的学习解答，解决您在学习过程中遇到的各种问题。'),
                React.createElement('button', {
                  className: 'feature-item-btn',
                  onClick: () => {
                    handleNavClick('chat');
                    resetChatState();
                  }
                }, '开始对话')
              ]),
              
              // AI绘画功能
              React.createElement('div', { className: 'feature-item' }, [
                React.createElement('div', { className: 'feature-item-icon' }, '🎨'),
                React.createElement('h3', null, 'AI绘画'),
                React.createElement('p', null, '使用先进的AI绘画技术，将您的创意变为现实，为学习添加更多视觉元素。'),
                React.createElement('button', {
                  className: 'feature-item-btn',
                  onClick: () => handleNavClick('draw')
                }, '立即创作')
              ]),
              
              // AI出题测评功能
              React.createElement('div', { className: 'feature-item' }, [
                React.createElement('div', { className: 'feature-item-icon' }, '📝'),
                React.createElement('h3', null, 'AI出题测评'),
                React.createElement('p', null, '根据您的学习进度，智能生成个性化测评题目，帮助您检验学习成果。'),
                React.createElement('button', {
                  className: 'feature-item-btn',
                  onClick: () => handleNavClick('assessment')
                }, '开始测评')
              ])
            ])
          ]),
          
          // 学习工具分类
          React.createElement('div', { className: 'features-category' }, [
            React.createElement('h2', null, '📚 学习辅助工具'),
            React.createElement('div', { className: 'features-list' }, [
              // AI批改功能
              React.createElement('div', { className: 'feature-item' }, [
                React.createElement('div', { className: 'feature-item-icon' }, '✨'),
                React.createElement('h3', null, 'AI批改'),
                React.createElement('p', null, '快速批改作业和试卷，提供详细的分析和建议，帮助您提高学习效率。'),
                React.createElement('button', {
                  className: 'feature-item-btn',
                  onClick: () => handleNavClick('correction')
                }, '立即批改')
              ]),
              
              // 知识图谱功能
              React.createElement('div', { className: 'feature-item' }, [
                React.createElement('div', { className: 'feature-item-icon' }, '🔗'),
                React.createElement('h3', null, '知识图谱'),
                React.createElement('p', null, '可视化展示知识点之间的关联，帮助您构建完整的知识体系。'),
                React.createElement('button', {
                  className: 'feature-item-btn'
                }, '探索图谱')
              ]),
              
              // 学习计划功能
              React.createElement('div', { className: 'feature-item' }, [
                React.createElement('div', { className: 'feature-item-icon' }, '📅'),
                React.createElement('h3', null, '学习计划'),
                React.createElement('p', null, '智能制定个性化学习计划，根据您的学习目标和时间安排，优化学习路径。'),
                React.createElement('button', {
                  className: 'feature-item-btn'
                }, '制定计划')
              ])
            ])
          ])
        ])
      );

      // AI对话页面
      const renderChatPage = () => (
        React.createElement('section', { className: 'ai-chat', id: 'ai-chat' }, [
          React.createElement('div', { className: 'ai-chat-container' }, [
            React.createElement('div', { className: 'ai-chat-header' }, 'AI智能对话'),
            React.createElement('div', { className: 'ai-chat-messages' }, [
              messages.length === 0 ? (
                React.createElement('div', { className: 'message ai' }, '你好！我是辰光未来星的AI助手，有什么可以帮助你的吗？')
              ) : (
                messages.map(message => (
                  React.createElement('div', { key: message.id, className: `message ${message.role}` }, message.content)
                ))
              ),
              isLoading && (
                React.createElement('div', { className: 'message ai' }, [
                  React.createElement('div', { className: 'loading' }, [
                    'AI正在思考',
                    React.createElement('div', { className: 'loading-dots' }, [
                      React.createElement('div', { className: 'loading-dot' }),
                      React.createElement('div', { className: 'loading-dot' }),
                      React.createElement('div', { className: 'loading-dot' })
                    ])
                  ])
                ])
              ),
              // 用于滚动到最新消息的元素
              React.createElement('div', { ref: messagesEndRef })
            ]),
            React.createElement('div', { className: 'ai-chat-input' }, [
              React.createElement('input', {
                type: 'text',
                value: inputValue,
                onChange: (e) => setInputValue(e.target.value),
                onKeyPress: handleKeyPress,
                placeholder: '输入你的问题...',
                disabled: isLoading
              }),
              React.createElement('button', {
                onClick: handleSendMessage,
                disabled: isLoading
              }, '发送')
            ])
          ])
        ])
      );

      // AI绘画页面
      const renderDrawPage = () => (
        React.createElement('section', { className: 'ai-chat' }, [
          React.createElement('div', { className: 'ai-chat-container' }, [
            React.createElement('div', { className: 'ai-chat-header' }, 'AI绘画'),
            
            // 绘画提示词输入区域
            React.createElement('div', { className: 'ai-chat-input' }, [
              React.createElement('input', {
                type: 'text',
                value: drawPrompt,
                onChange: (e) => setDrawPrompt(e.target.value),
                placeholder: '输入你的绘画描述，例如：一只可爱的小猫咪，坐在阳光明媚的窗台上，背景是蓝天白云',
                disabled: isDrawing
              }),
              React.createElement('button', {
                onClick: handleDrawImage,
                disabled: isDrawing || !drawPrompt.trim()
              }, isDrawing ? '生成中...' : '生成')
            ]),
            
            // 绘画结果显示区域
            React.createElement('div', { style: { padding: '1.75rem' } }, [
              // 错误提示
              drawError && React.createElement('div', {
                style: {
                  color: '#f44336',
                  backgroundColor: 'rgba(244, 67, 54, 0.1)',
                  border: '1px solid #f44336',
                  borderRadius: 'var(--border-radius)',
                  padding: '1rem',
                  marginBottom: '1rem'
                }
              }, drawError),
              
              // 加载状态
              isDrawing && React.createElement('div', {
                style: {
                  display: 'flex',
                  flexDirection: 'column',
                  alignItems: 'center',
                  justifyContent: 'center',
                  padding: '3rem',
                  backgroundColor: 'rgba(0, 0, 0, 0.1)',
                  borderRadius: 'var(--border-radius)'
                }
              }, [
                React.createElement('div', { className: 'loading' }, [
                  'AI正在绘画',
                  React.createElement('div', { className: 'loading-dots' }, [
                    React.createElement('div', { className: 'loading-dot' }),
                    React.createElement('div', { className: 'loading-dot' }),
                    React.createElement('div', { className: 'loading-dot' })
                  ])
                ]),
                React.createElement('p', {
                  style: {
                    color: 'var(--text-secondary-color)',
                    marginTop: '1rem',
                    textAlign: 'center'
                  }
                }, '请耐心等待，AI正在创作你的作品...')
              ]),
              
              // 生成的图像
              drawImage && React.createElement('div', {
                style: {
                  textAlign: 'center',
                  backgroundColor: 'rgba(0, 0, 0, 0.1)',
                  borderRadius: 'var(--border-radius)',
                  padding: '1.5rem'
                }
              }, [
                React.createElement('h3', {
                  style: {
                    color: 'var(--text-color)',
                    marginBottom: '1rem'
                  }
                }, '生成结果'),
                React.createElement('img', {
                  src: drawImage,
                  alt: 'AI生成的图像',
                  style: {
                    maxWidth: '100%',
                    maxHeight: '600px',
                    borderRadius: 'var(--border-radius)',
                    boxShadow: 'var(--shadow-lg)'
                  }
                }),
                React.createElement('div', {
                  style: {
                    marginTop: '1.5rem'
                  }
                }, [
                  React.createElement('button', {
                    style: {
                      backgroundColor: 'var(--primary-color)',
                      color: 'white',
                      border: 'none',
                      borderRadius: 'var(--border-radius)',
                      padding: '0.6rem 1.2rem',
                      marginRight: '0.5rem',
                      cursor: 'pointer'
                    },
                    onClick: () => setDrawPrompt('')
                  }, '重新生成'),
                  React.createElement('a', {
                    href: drawImage,
                    target: '_blank',
                    rel: 'noopener noreferrer',
                    style: {
                      backgroundColor: 'var(--surface-color)',
                      color: 'var(--text-color)',
                      border: '1px solid var(--border-color)',
                      borderRadius: 'var(--border-radius)',
                      padding: '0.6rem 1.2rem',
                      textDecoration: 'none',
                      display: 'inline-block'
                    }
                  }, '下载图像')
                ])
              ]),
              
              // 提示信息
              !drawImage && !isDrawing && !drawError && React.createElement('div', {
                style: {
                  color: 'var(--text-secondary-color)',
                  backgroundColor: 'rgba(0, 0, 0, 0.1)',
                  borderRadius: 'var(--border-radius)',
                  padding: '2rem',
                  textAlign: 'center'
                }
              }, [
                React.createElement('div', {
                  style: {
                    fontSize: '3rem',
                    marginBottom: '1rem'
                  }
                }, '🎨'),
                React.createElement('h3', {
                  style: {
                    color: 'var(--text-color)',
                    marginBottom: '1rem'
                  }
                }, 'AI绘画功能'),
                React.createElement('p', null, '输入详细的描述，AI将为你生成精美的图像。\n描述越详细，生成的图像越符合你的预期。')
              ])
            ])
          ])
        ])
      );

      // AI出题测评页面
      const renderAssessmentPage = () => {
        const { 
          selectedGrade, 
          selectedSubject, 
          selectedDifficulty, 
          questions, 
          currentQuestionIndex, 
          userAnswers, 
          isLoading, 
          error, 
          showExplanation, 
          explanation, 
          showAskModal, 
          askMessages, 
          askInput, 
          isAsking 
        } = assessmentState;

        const currentQuestion = questions[currentQuestionIndex];
        const hasQuestions = questions.length > 0;
        const isLastQuestion = currentQuestionIndex === questions.length - 1;

        // 学段选项
        const grades = ['小学', '初中', '高中'];
        // 学科选项
        const subjects = ['数学', '语文', '英语', '物理', '化学', '生物', '历史', '地理', '政治'];
        // 难度选项
        const difficulties = ['简单', '中等', '困难'];

        return React.createElement('section', { className: 'ai-chat' }, [
          React.createElement('div', { className: 'ai-chat-container' }, [
            React.createElement('div', { className: 'ai-chat-header' }, 'AI出题测评'),
            
            // 配置区域
            !hasQuestions ? (
              React.createElement('div', { style: { padding: '1.75rem' } }, [
                // 错误提示
                error && React.createElement('div', {
                  style: {
                    color: '#f44336',
                    backgroundColor: 'rgba(244, 67, 54, 0.1)',
                    border: '1px solid #f44336',
                    borderRadius: 'var(--border-radius)',
                    padding: '1rem',
                    marginBottom: '1.5rem'
                  }
                }, error),
                
                // 选择表单
                React.createElement('div', {
                  style: {
                    backgroundColor: 'rgba(255, 255, 255, 0.85)',
                    backgroundImage: 'linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(245, 245, 245, 0.95))',
                    borderRadius: 'var(--border-radius)',
                    padding: '2rem',
                    border: '1px solid var(--border-color)',
                    boxShadow: 'var(--shadow-md)'
                  }
                }, [
                  React.createElement('h3', {
                    style: {
                      color: 'var(--text-color)',
                      marginBottom: '1.5rem',
                      textAlign: 'center'
                    }
                  }, '选择测评配置'),
                  
                  // 学段选择
                  React.createElement('div', {
                    style: {
                      marginBottom: '1.5rem'
                    }
                  }, [
                    React.createElement('label', {
                      style: {
                        display: 'block',
                        color: 'var(--text-color)',
                        marginBottom: '0.5rem',
                        fontWeight: '500'
                      }
                    }, '学段'),
                    React.createElement('select', {
                      value: selectedGrade,
                      onChange: (e) => setAssessmentState(prev => ({ ...prev, selectedGrade: e.target.value })),
                      style: {
                        width: '100%',
                        padding: '0.875rem',
                        backgroundColor: 'var(--background-color)',
                        border: '1px solid var(--border-color)',
                        borderRadius: 'var(--border-radius)',
                        color: 'var(--text-color)',
                        fontSize: '1rem'
                      }
                    }, [
                      React.createElement('option', { value: '' }, '请选择学段'),
                      ...grades.map(grade => React.createElement('option', { key: grade, value: grade }, grade))
                    ])
                  ]),
                  
                  // 学科选择
                  React.createElement('div', {
                    style: {
                      marginBottom: '1.5rem'
                    }
                  }, [
                    React.createElement('label', {
                      style: {
                        display: 'block',
                        color: 'var(--text-color)',
                        marginBottom: '0.5rem',
                        fontWeight: '500'
                      }
                    }, '学科'),
                    React.createElement('select', {
                      value: selectedSubject,
                      onChange: (e) => setAssessmentState(prev => ({ ...prev, selectedSubject: e.target.value })),
                      style: {
                        width: '100%',
                        padding: '0.875rem',
                        backgroundColor: 'var(--background-color)',
                        border: '1px solid var(--border-color)',
                        borderRadius: 'var(--border-radius)',
                        color: 'var(--text-color)',
                        fontSize: '1rem'
                      }
                    }, [
                      React.createElement('option', { value: '' }, '请选择学科'),
                      ...subjects.map(subject => React.createElement('option', { key: subject, value: subject }, subject))
                    ])
                  ]),
                  
                  // 难度选择
                  React.createElement('div', {
                    style: {
                      marginBottom: '2rem'
                    }
                  }, [
                    React.createElement('label', {
                      style: {
                        display: 'block',
                        color: 'var(--text-color)',
                        marginBottom: '0.5rem',
                        fontWeight: '500'
                      }
                    }, '难度'),
                    React.createElement('select', {
                      value: selectedDifficulty,
                      onChange: (e) => setAssessmentState(prev => ({ ...prev, selectedDifficulty: e.target.value })),
                      style: {
                        width: '100%',
                        padding: '0.875rem',
                        backgroundColor: 'var(--background-color)',
                        border: '1px solid var(--border-color)',
                        borderRadius: 'var(--border-radius)',
                        color: 'var(--text-color)',
                        fontSize: '1rem'
                      }
                    }, [
                      React.createElement('option', { value: '' }, '请选择难度'),
                      ...difficulties.map(difficulty => React.createElement('option', { key: difficulty, value: difficulty }, difficulty))
                    ])
                  ]),
                  
                  // 生成题目按钮
                  React.createElement('button', {
                    onClick: handleGenerateQuestions,
                    disabled: isLoading,
                    style: {
                      width: '100%',
                      padding: '0.875rem',
                      backgroundColor: 'var(--primary-color)',
                      backgroundImage: 'linear-gradient(135deg, var(--primary-color), var(--accent-color))',
                      color: 'white',
                      border: 'none',
                      borderRadius: 'var(--border-radius)',
                      fontSize: '1rem',
                      fontWeight: '500',
                      cursor: isLoading ? 'not-allowed' : 'pointer',
                      opacity: isLoading ? 0.7 : 1,
                      boxShadow: 'var(--shadow-sm)',
                      transition: 'var(--transition)'
                    }
                  }, isLoading ? '生成题目中...' : '生成题目')
                ])
              ])
            ) : (
              // 题目展示区域
              React.createElement('div', { style: { padding: '1.75rem' } }, [
                // 题目导航
                React.createElement('div', {
                  style: {
                    display: 'flex',
                    justifyContent: 'space-between',
                    alignItems: 'center',
                    marginBottom: '1.5rem'
                  }
                }, [
                  React.createElement('h3', {
                    style: {
                      color: 'var(--text-color)',
                      margin: 0
                    }
                  }, `题目 ${currentQuestionIndex + 1}/${questions.length}`),
                  React.createElement('div', {
                    style: {
                      display: 'flex',
                      gap: '0.5rem'
                    }
                  }, [
                    ...questions.map((q, index) => (
                      React.createElement('button', {
                        key: q.id,
                        onClick: () => setAssessmentState(prev => ({ ...prev, currentQuestionIndex: index })),
                        style: {
                          width: '32px',
                          height: '32px',
                          borderRadius: '50%',
                          border: '1px solid var(--border-color)',
                          backgroundColor: index === currentQuestionIndex ? 'var(--primary-color)' : 'var(--surface-color)',
                          color: index === currentQuestionIndex ? 'white' : 'var(--text-color)',
                          cursor: 'pointer',
                          fontSize: '0.9rem'
                        }
                      }, q.id)
                    ))
                  ])
                ]),
                
                // 题目内容
                currentQuestion && React.createElement('div', {
                  style: {
                    backgroundColor: 'rgba(255, 255, 255, 0.85)',
                    backgroundImage: 'linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(245, 245, 245, 0.95))',
                    borderRadius: 'var(--border-radius)',
                    padding: '2rem',
                    marginBottom: '1.5rem',
                    border: '1px solid var(--border-color)',
                    boxShadow: 'var(--shadow-md)'
                  }
                }, [
                  React.createElement('div', {
                    style: {
                      color: 'var(--text-color)',
                      marginBottom: '1.5rem',
                      lineHeight: '1.6'
                    }
                  }, currentQuestion.content),
                  
                  // 选项（如果有）
                  currentQuestion.options && React.createElement('div', {
                    style: {
                      marginBottom: '1.5rem'
                    }
                  }, currentQuestion.options.map((option, index) => (
                    React.createElement('div', {
                      key: index,
                      style: {
                        marginBottom: '0.75rem'
                      }
                    }, [
                      React.createElement('label', {
                        style: {
                          display: 'flex',
                          alignItems: 'center',
                          gap: '0.75rem',
                          color: 'var(--text-secondary-color)',
                          cursor: 'pointer',
                          padding: '0.5rem',
                          borderRadius: 'var(--border-radius)',
                          transition: 'background-color 0.2s ease-in-out'
                        },
                        onClick: () => {
                          const selectedOption = String.fromCharCode(65 + index);
                          setAssessmentState(prev => {
                            const updatedAnswers = [...prev.userAnswers];
                            updatedAnswers[currentQuestionIndex] = selectedOption;
                            return { ...prev, userAnswers: updatedAnswers };
                          });
                        }
                      }, [
                        React.createElement('input', {
                          type: 'radio',
                          name: 'answer',
                          value: String.fromCharCode(65 + index),
                          checked: userAnswers[currentQuestionIndex] === String.fromCharCode(65 + index),
                          readOnly: true,
                          style: {
                            accentColor: 'var(--primary-color)',
                            cursor: 'pointer'
                          }
                        }),
                        React.createElement('span', null, `${String.fromCharCode(65 + index)}. ${option}`)
                      ])
                    ])
                  ))),
                  
                  // 填空题答案输入
                  !currentQuestion.options && React.createElement('div', {
                    style: {
                      marginBottom: '1.5rem'
                    }
                  }, [
                    React.createElement('label', {
                      style: {
                        display: 'block',
                        color: 'var(--text-color)',
                        marginBottom: '0.5rem',
                        fontWeight: '500'
                      }
                    }, '答案'),
                    React.createElement('input', {
                      type: 'text',
                      value: userAnswers[currentQuestionIndex] || '',
                      onChange: (e) => setAssessmentState(prev => {
                        const updatedAnswers = [...prev.userAnswers];
                        updatedAnswers[currentQuestionIndex] = e.target.value;
                        return { ...prev, userAnswers: updatedAnswers };
                      }),
                      style: {
                        width: '100%',
                        padding: '0.875rem',
                        backgroundColor: 'var(--background-color)',
                        border: '1px solid var(--border-color)',
                        borderRadius: 'var(--border-radius)',
                        color: 'var(--text-color)',
                        fontSize: '1rem'
                      }
                    })
                  ]),
                  
                  // 提交答案按钮
                  !userAnswers[currentQuestionIndex] && React.createElement('button', {
                    onClick: () => handleSubmitAnswer(userAnswers[currentQuestionIndex] || ''),
                    disabled: !userAnswers[currentQuestionIndex],
                    style: {
                      padding: '0.875rem 1.75rem',
                      backgroundColor: 'var(--primary-color)',
                      backgroundImage: 'linear-gradient(135deg, var(--primary-color), var(--accent-color))',
                      color: 'white',
                      border: 'none',
                      borderRadius: 'var(--border-radius)',
                      fontSize: '1rem',
                      fontWeight: '500',
                      cursor: !userAnswers[currentQuestionIndex] ? 'not-allowed' : 'pointer',
                      opacity: !userAnswers[currentQuestionIndex] ? 0.7 : 1,
                      boxShadow: 'var(--shadow-sm)',
                      transition: 'var(--transition)'
                    }
                  }, '提交答案')
                ]),
                
                // 解析区域
                showExplanation && React.createElement('div', {
                  style: {
                    backgroundColor: isCorrect ? 'rgba(0, 255, 0, 0.1)' : 'rgba(255, 165, 0, 0.1)',
                    border: `1px solid ${isCorrect ? '#4CAF50' : '#ffa500'}`,
                    borderRadius: 'var(--border-radius)',
                    padding: '1.5rem',
                    marginBottom: '1.5rem',
                    boxShadow: 'var(--shadow-sm)'
                  }
                }, [
                  React.createElement('h4', {
                    style: {
                      color: isCorrect ? '#4CAF50' : '#ffa500',
                      marginBottom: '1rem'
                    }
                  }, isCorrect ? '回答正确！' : '回答错误！'),
                  React.createElement('h5', {
                    style: {
                      color: 'var(--text-color)',
                      marginBottom: '1rem'
                    }
                  }, '题目解析'),
                  React.createElement('div', {
                    style: {
                      color: 'var(--text-secondary-color)',
                      lineHeight: '1.6'
                    }
                  }, explanation)
                ]),
                
                // 正确答案提示
                showExplanation && !isCorrect && React.createElement('div', {
                  style: {
                    backgroundColor: 'rgba(255, 165, 0, 0.1)',
                    border: '1px solid #ffa500',
                    borderRadius: 'var(--border-radius)',
                    padding: '1rem',
                    marginBottom: '1.5rem',
                    boxShadow: 'var(--shadow-sm)'
                  }
                }, [
                  React.createElement('p', {
                    style: {
                      color: '#ffa500',
                      margin: 0
                    }
                  }, `正确答案：${currentQuestion.correctAnswer}`)
                ]),
                
                // 提交答案按钮
                  !userAnswers[currentQuestionIndex] && React.createElement('button', {
                    onClick: () => handleSubmitAnswer(userAnswers[currentQuestionIndex] || ''),
                    disabled: !userAnswers[currentQuestionIndex],
                    style: {
                      padding: '0.875rem 1.75rem',
                      backgroundColor: 'var(--primary-color)',
                      backgroundImage: 'linear-gradient(135deg, var(--primary-color), var(--accent-color))',
                      color: 'white',
                      border: 'none',
                      borderRadius: 'var(--border-radius)',
                      fontSize: '1rem',
                      fontWeight: '500',
                      cursor: !userAnswers[currentQuestionIndex] ? 'not-allowed' : 'pointer',
                      opacity: !userAnswers[currentQuestionIndex] ? 0.7 : 1,
                      boxShadow: 'var(--shadow-sm)',
                      transition: 'var(--transition)'
                    }
                  }, '提交答案'),
                
                  // 操作按钮
                userAnswers[currentQuestionIndex] && React.createElement('div', {
                  style: {
                    display: 'flex',
                    justifyContent: 'space-between',
                    gap: '1rem'
                  }
                }, [
                  React.createElement('button', {
                    onClick: openAskModal,
                    style: {
                      padding: '0.75rem 1.5rem',
                      backgroundColor: 'var(--surface-color)',
                      color: 'var(--text-color)',
                      border: '1px solid var(--border-color)',
                      borderRadius: 'var(--border-radius)',
                      fontSize: '0.95rem',
                      fontWeight: '500',
                      cursor: 'pointer',
                      transition: 'var(--transition)'
                    }
                  }, '追问'),
                  React.createElement('button', {
                    onClick: handleNextQuestion,
                    disabled: isLastQuestion,
                    style: {
                      padding: '0.75rem 1.5rem',
                      backgroundColor: isLastQuestion ? 'var(--border-color)' : 'var(--primary-color)',
                      backgroundImage: isLastQuestion ? 'none' : 'linear-gradient(135deg, var(--primary-color), var(--accent-color))',
                      color: 'white',
                      border: 'none',
                      borderRadius: 'var(--border-radius)',
                      fontSize: '0.95rem',
                      fontWeight: '500',
                      cursor: isLastQuestion ? 'not-allowed' : 'pointer',
                      opacity: isLastQuestion ? 0.7 : 1,
                      flex: 1,
                      boxShadow: 'var(--shadow-sm)',
                      transition: 'var(--transition)'
                    }
                  }, isLastQuestion ? '测评完成' : '下一题')
                ])
              ])
            )
          ]),
          
          // 追问模态框
          showAskModal && React.createElement('div', {
            style: {
              position: 'fixed',
              top: 0,
              left: 0,
              right: 0,
              bottom: 0,
              backgroundColor: 'rgba(0, 0, 0, 0.7)',
              display: 'flex',
              justifyContent: 'center',
              alignItems: 'center',
              zIndex: 1000
            }
          }, [
            React.createElement('div', {
              style: {
                backgroundColor: 'rgba(255, 255, 255, 0.95)',
                borderRadius: 'var(--border-radius)',
                width: '90%',
                maxWidth: '800px',
                maxHeight: '80vh',
                display: 'flex',
                flexDirection: 'column',
                boxShadow: 'var(--shadow-xl)',
                border: '1px solid var(--border-color)'
              }
            }, [
              // 模态框头部
              React.createElement('div', {
                style: {
                  display: 'flex',
                  justifyContent: 'space-between',
                  alignItems: 'center',
                  padding: '1.5rem',
                  borderBottom: '1px solid var(--border-color)',
                  backgroundColor: 'var(--primary-color)',
                  backgroundImage: 'linear-gradient(to right, #0078d4, #005a9e)',
                  color: 'white',
                  borderTopLeftRadius: 'var(--border-radius)',
                  borderTopRightRadius: 'var(--border-radius)'
                }
              }, [
                React.createElement('h3', {
                  style: {
                    margin: 0,
                    fontSize: '1.25rem'
                  }
                }, 'AI辅导老师'),
                React.createElement('button', {
                    onClick: closeAskModal,
                    style: {
                      background: 'none',
                      border: 'none',
                      color: 'white',
                      fontSize: '1.5rem',
                      cursor: 'pointer',
                      padding: 0,
                      width: '30px',
                      height: '30px',
                      display: 'flex',
                      alignItems: 'center',
                      justifyContent: 'center',
                      transition: 'var(--transition)'
                    }
                  }, '×')
              ]),
              
              // 模态框内容
              React.createElement('div', {
                style: {
                  padding: '1.5rem',
                  flex: 1,
                  overflowY: 'auto',
                  display: 'flex',
                  flexDirection: 'column',
                  gap: '1rem'
                }
              }, [
                ...askMessages.map((msg, index) => (
                  React.createElement('div', {
                    key: index,
                    style: {
                      alignSelf: msg.role === 'user' || msg.role === 'assistant' ? 'flex-end' : 'flex-start',
                      maxWidth: '80%',
                      padding: '1rem',
                      borderRadius: 'var(--border-radius)',
                      backgroundColor: msg.role === 'user' ? 'var(--primary-color)' : 'var(--surface-hover-color)',
                      color: msg.role === 'user' ? 'white' : 'var(--text-color)',
                      boxShadow: 'var(--shadow-sm)',
                      transition: 'var(--transition)'
                    }
                  }, msg.content)
                )),
                // 加载动画
                isAsking && React.createElement('div', {
                  style: {
                    alignSelf: 'flex-start',
                    maxWidth: '80%',
                    padding: '1rem',
                    borderRadius: 'var(--border-radius)',
                    backgroundColor: 'var(--surface-hover-color)',
                    color: 'var(--text-color)',
                    boxShadow: 'var(--shadow-sm)'
                  }
                }, [
                  React.createElement('div', { className: 'loading' }, [
                    'AI正在思考',
                    React.createElement('div', { className: 'loading-dots' }, [
                      React.createElement('div', { className: 'loading-dot' }),
                      React.createElement('div', { className: 'loading-dot' }),
                      React.createElement('div', { className: 'loading-dot' })
                    ])
                  ])
                ]),
                React.createElement('div', { ref: askMessagesEndRef })
              ]),
              
              // 模态框输入
              React.createElement('div', {
                style: {
                  padding: '1.5rem',
                  borderTop: '1px solid var(--border-color)',
                  display: 'flex',
                  gap: '0.75rem',
                  backgroundColor: 'var(--surface-color)'
                }
              }, [
                React.createElement('input', {
                  type: 'text',
                  value: askInput,
                  onChange: (e) => setAssessmentState(prev => ({ ...prev, askInput: e.target.value })),
                  onKeyPress: (e) => {
                    if (e.key === 'Enter' && !e.shiftKey) {
                      e.preventDefault();
                      handleAskQuestion();
                    }
                  },
                  placeholder: '输入你的问题...',
                  disabled: isAsking,
                  style: {
                    flex: 1,
                    padding: '0.75rem',
                    backgroundColor: 'var(--background-color)',
                    border: '1px solid var(--border-color)',
                    borderRadius: 'var(--border-radius)',
                    color: 'var(--text-color)',
                    fontSize: '1rem',
                    transition: 'var(--transition)'
                  }
                }),
                React.createElement('button', {
                  onClick: handleAskQuestion,
                  disabled: isAsking || !askInput.trim(),
                  style: {
                    padding: '0.75rem 1.5rem',
                    backgroundColor: 'var(--primary-color)',
                    backgroundImage: 'linear-gradient(135deg, var(--primary-color), var(--accent-color))',
                    color: 'white',
                    border: 'none',
                    borderRadius: 'var(--border-radius)',
                    fontSize: '1rem',
                    fontWeight: '500',
                    cursor: isAsking ? 'not-allowed' : 'pointer',
                    opacity: isAsking || !askInput.trim() ? 0.7 : 1,
                    boxShadow: 'var(--shadow-sm)',
                    transition: 'var(--transition)'
                  }
                }, isAsking ? '发送中...' : '发送')
              ])
            ])
          ])
        ]);
      };

      // AI批改页面
      const renderCorrectionPage = () => {
        const { 
          image, 
          isUploading, 
          uploadError, 
          ocrText, 
          isScanning, 
          ocrError, 
          questions, 
          showConfirmDialog, 
          isCorrecting, 
          correctionResults, 
          correctionError 
        } = correctionState;

        return React.createElement('section', { className: 'ai-chat' }, [
          React.createElement('div', { className: 'ai-chat-container' }, [
            React.createElement('div', { className: 'ai-chat-header' }, 'AI批改'),
            
            // 图片上传区域
            !image ? (
              React.createElement('div', { style: { padding: '1.75rem' } }, [
                // 错误提示
                uploadError && React.createElement('div', {
                  style: {
                    color: '#f44336',
                    backgroundColor: 'rgba(244, 67, 54, 0.1)',
                    border: '1px solid #f44336',
                    borderRadius: 'var(--border-radius)',
                    padding: '1rem',
                    marginBottom: '1.5rem'
                  }
                }, uploadError),
                
                // 上传提示
                React.createElement('div', {
                  style: {
                    backgroundColor: 'rgba(0, 0, 0, 0.1)',
                    borderRadius: 'var(--border-radius)',
                    padding: '3rem',
                    textAlign: 'center',
                    marginBottom: '1.5rem'
                  }
                }, [
                  React.createElement('div', {
                    style: {
                      fontSize: '4rem',
                      marginBottom: '1.5rem'
                    }
                  }, '📷'),
                  React.createElement('h3', {
                    style: {
                      color: 'var(--text-color)',
                      marginBottom: '1rem'
                    }
                  }, '上传图片'),
                  React.createElement('p', {
                    style: {
                      color: 'var(--text-secondary-color)',
                      marginBottom: '2rem'
                    }
                  }, '请上传作业或试卷的图片，AI将自动识别并批改'),
                  
                  // 上传按钮
                  React.createElement('div', {
                    style: {
                      display: 'flex',
                      flexDirection: 'column',
                      gap: '1rem',
                      alignItems: 'center'
                    }
                  }, [
                    React.createElement('label', {
                      style: {
                        padding: '1rem 2rem',
                        backgroundColor: 'var(--primary-color)',
                        color: 'white',
                        border: 'none',
                        borderRadius: 'var(--border-radius)',
                        fontSize: '1rem',
                        fontWeight: '500',
                        cursor: 'pointer',
                        transition: 'var(--transition)'
                      },
                      htmlFor: 'image-upload'
                    }, '选择图片'),
                    React.createElement('input', {
                      type: 'file',
                      id: 'image-upload',
                      accept: 'image/*',
                      capture: 'camera',
                      onChange: handleImageUpload,
                      style: {
                        display: 'none'
                      }
                    }),
                    React.createElement('p', {
                      style: {
                        color: 'var(--text-secondary-color)',
                        fontSize: '0.9rem'
                      }
                    }, '支持 JPG、PNG 格式，最大 10MB')
                  ])
                ])
              ])
            ) : (
              // 处理中或结果展示区域
              React.createElement('div', { style: { padding: '1.75rem' } }, [
                // 上传的图片预览
                React.createElement('div', {
                  style: {
                    textAlign: 'center',
                    marginBottom: '1.5rem'
                  }
                }, [
                  React.createElement('img', {
                    src: image,
                    alt: '上传的图片',
                    style: {
                      maxWidth: '100%',
                      maxHeight: '400px',
                      borderRadius: 'var(--border-radius)',
                      boxShadow: 'var(--shadow-md)'
                    }
                  })
                ]),
                
                // OCR扫描中
                isScanning && React.createElement('div', {
                  style: {
                    backgroundColor: 'rgba(0, 120, 212, 0.1)',
                    border: '1px solid var(--primary-color)',
                    borderRadius: 'var(--border-radius)',
                    padding: '1.5rem',
                    marginBottom: '1.5rem'
                  }
                }, [
                  React.createElement('div', { className: 'loading' }, [
                    '正在进行OCR扫描',
                    React.createElement('div', { className: 'loading-dots' }, [
                      React.createElement('div', { className: 'loading-dot' }),
                      React.createElement('div', { className: 'loading-dot' }),
                      React.createElement('div', { className: 'loading-dot' })
                    ])
                  ]),
                  React.createElement('p', {
                    style: {
                      color: 'var(--text-secondary-color)',
                      marginTop: '1rem'
                    }
                  }, 'AI正在识别图片中的文字，请耐心等待...')
                ]),
                
                // OCR错误
                ocrError && React.createElement('div', {
                  style: {
                    color: '#f44336',
                    backgroundColor: 'rgba(244, 67, 54, 0.1)',
                    border: '1px solid #f44336',
                    borderRadius: 'var(--border-radius)',
                    padding: '1rem',
                    marginBottom: '1.5rem'
                  }
                }, ocrError),
                
                // 批改中
                isCorrecting && React.createElement('div', {
                  style: {
                    backgroundColor: 'rgba(0, 120, 212, 0.1)',
                    border: '1px solid var(--primary-color)',
                    borderRadius: 'var(--border-radius)',
                    padding: '1.5rem',
                    marginBottom: '1.5rem'
                  }
                }, [
                  React.createElement('div', { className: 'loading' }, [
                    '正在进行AI批改',
                    React.createElement('div', { className: 'loading-dots' }, [
                      React.createElement('div', { className: 'loading-dot' }),
                      React.createElement('div', { className: 'loading-dot' }),
                      React.createElement('div', { className: 'loading-dot' })
                    ])
                  ]),
                  React.createElement('p', {
                    style: {
                      color: 'var(--text-secondary-color)',
                      marginTop: '1rem'
                    }
                  }, 'AI正在分析题目，请耐心等待...')
                ]),
                
                // 批改错误
                correctionError && React.createElement('div', {
                  style: {
                    color: '#f44336',
                    backgroundColor: 'rgba(244, 67, 54, 0.1)',
                    border: '1px solid #f44336',
                    borderRadius: 'var(--border-radius)',
                    padding: '1rem',
                    marginBottom: '1.5rem'
                  }
                }, correctionError),
                
                // 批改结果
                correctionResults.length > 0 && React.createElement('div', {
                  style: {
                    marginBottom: '1.5rem'
                  }
                }, [
                  React.createElement('h3', {
                    style: {
                      color: 'var(--text-color)',
                      marginBottom: '1.5rem'
                    }
                  }, '批改结果'),
                  ...correctionResults.map((result, index) => (
                    React.createElement('div', {
                      key: index,
                      style: {
                        backgroundColor: result.isFullScore ? 'rgba(0, 255, 0, 0.1)' : 'rgba(255, 165, 0, 0.1)',
                        border: `1px solid ${result.isFullScore ? '#4CAF50' : '#ffa500'}`,
                        borderRadius: 'var(--border-radius)',
                        padding: '1.5rem',
                        marginBottom: '1rem'
                      }
                    }, [
                      React.createElement('h4', {
                        style: {
                          color: result.isFullScore ? '#4CAF50' : '#ffa500',
                          marginBottom: '0.75rem'
                        }
                      }, `题目 ${result.questionId}: ${result.isFullScore ? '满分' : '不满分'}`),
                      React.createElement('div', {
                        style: {
                          color: 'var(--text-color)',
                          marginBottom: '1rem',
                          fontSize: '0.95rem'
                        }
                      }, result.questionContent),
                      !result.isFullScore && result.explanation && React.createElement('div', {
                        style: {
                          color: 'var(--text-secondary-color)',
                          fontSize: '0.9rem',
                          backgroundColor: 'rgba(255, 165, 0, 0.1)',
                          padding: '1rem',
                          borderRadius: 'var(--border-radius)'
                        }
                      }, [
                        React.createElement('strong', null, '错误解释：'),
                        React.createElement('br'),
                        result.explanation
                      ])
                    ])
                  )),
                  
                  // 重新批改按钮
                  React.createElement('button', {
                    onClick: resetCorrectionState,
                    style: {
                      width: '100%',
                      padding: '0.875rem',
                      backgroundColor: 'var(--primary-color)',
                      color: 'white',
                      border: 'none',
                      borderRadius: 'var(--border-radius)',
                      fontSize: '1rem',
                      fontWeight: '500',
                      cursor: 'pointer',
                      marginTop: '1.5rem'
                    }
                  }, '重新批改')
                ])
              ])
            )
          ]),
          
          // 确认对话框
          showConfirmDialog && React.createElement('div', {
            style: {
              position: 'fixed',
              top: 0,
              left: 0,
              right: 0,
              bottom: 0,
              backgroundColor: 'rgba(0, 0, 0, 0.7)',
              display: 'flex',
              justifyContent: 'center',
              alignItems: 'center',
              zIndex: 1000
            }
          }, [
            React.createElement('div', {
              style: {
                backgroundColor: 'var(--surface-color)',
                borderRadius: 'var(--border-radius)',
                width: '90%',
                maxWidth: '600px',
                boxShadow: 'var(--shadow-lg)',
                padding: '2rem'
              }
            }, [
              React.createElement('h3', {
                style: {
                  color: 'var(--text-color)',
                  marginBottom: '1.5rem'
                }
              }, '确认OCR结果'),
              React.createElement('div', {
                style: {
                  backgroundColor: 'rgba(0, 0, 0, 0.1)',
                  borderRadius: 'var(--border-radius)',
                  padding: '1.5rem',
                  marginBottom: '2rem',
                  maxHeight: '300px',
                  overflowY: 'auto'
                }
              }, [
                React.createElement('h4', {
                  style: {
                    color: 'var(--text-color)',
                    marginBottom: '1rem'
                  }
                }, '识别的题目：'),
                ...questions.map((question, index) => (
                  React.createElement('div', {
                    key: index,
                    style: {
                      marginBottom: '1.5rem',
                      paddingBottom: '1rem',
                      borderBottom: '1px solid var(--border-color)'
                    }
                  }, [
                    React.createElement('div', {
                      style: {
                        color: 'var(--text-color)',
                        fontWeight: '500',
                        marginBottom: '0.5rem'
                      }
                    }, `题目 ${question.id}: ${question.content}`),
                    question.options.length > 0 && React.createElement('div', {
                      style: {
                        color: 'var(--text-secondary-color)',
                        fontSize: '0.9rem'
                      }
                    }, question.options.map((option, optIndex) => (
                      React.createElement('div', { key: optIndex }, option)
                    )))
                  ])
                ))
              ]),
              React.createElement('div', {
                style: {
                  display: 'flex',
                  gap: '1rem',
                  justifyContent: 'flex-end'
                }
              }, [
                React.createElement('button', {
                  onClick: () => confirmOCRResult(false),
                  style: {
                    padding: '0.75rem 1.5rem',
                    backgroundColor: 'var(--surface-color)',
                    color: 'var(--text-color)',
                    border: '1px solid var(--border-color)',
                    borderRadius: 'var(--border-radius)',
                    fontSize: '1rem',
                    fontWeight: '500',
                    cursor: 'pointer'
                  }
                }, '重新上传'),
                React.createElement('button', {
                  onClick: () => confirmOCRResult(true),
                  style: {
                    padding: '0.75rem 1.5rem',
                    backgroundColor: 'var(--primary-color)',
                    color: 'white',
                    border: 'none',
                    borderRadius: 'var(--border-radius)',
                    fontSize: '1rem',
                    fontWeight: '500',
                    cursor: 'pointer'
                  }
                }, '确认无误')
              ])
            ])
          ])
        ]);
      };

      return React.createElement('div', { className: 'app' }, [
        // 导航栏
        React.createElement('nav', { className: 'navbar' }, [
          React.createElement('button', {
            className: 'navbar-logo',
            onClick: () => handleNavClick('home')
          }, [
            React.createElement('img', { src: 'logo.png', alt: '辰光未来星', className: 'logo-image' })
          ]),
          React.createElement('ul', { className: 'navbar-nav' }, [
            React.createElement('li', null, React.createElement('button', {
              className: currentPage === 'home' ? 'nav-active' : '',
              onClick: () => handleNavClick('home')
            }, '首页')),
            React.createElement('li', null, React.createElement('button', {
              className: currentPage === 'features' ? 'nav-active' : '',
              onClick: () => handleNavClick('features')
            }, '功能')),
            React.createElement('li', null, React.createElement('button', {
              className: currentPage === 'about' ? 'nav-active' : '',
              onClick: () => handleNavClick('about')
            }, '关于'))
          ]),
          React.createElement('button', {
            className: 'navbar-btn',
            onClick: () => handleNavClick('features')
          }, '开始使用')
        ]),

        // 页面内容
        currentPage === 'home' && renderHomePage(),
        currentPage === 'features' && renderFeaturesPage(),
        currentPage === 'chat' && renderChatPage(),
        currentPage === 'draw' && renderDrawPage(),
        currentPage === 'assessment' && renderAssessmentPage(),
        currentPage === 'correction' && renderCorrectionPage(),
        currentPage === 'about' && React.createElement('section', { className: 'features' }, [
          React.createElement('h2', null, '关于我们'),
          isLoadingAbout ? (
            React.createElement('div', { className: 'loading' }, [
              '加载中',
              React.createElement('div', { className: 'loading-dots' }, [
                React.createElement('div', { className: 'loading-dot' }),
                React.createElement('div', { className: 'loading-dot' }),
                React.createElement('div', { className: 'loading-dot' })
              ])
            ])
          ) : aboutError ? (
            React.createElement('div', {
              style: {
                color: '#f44336',
                backgroundColor: 'rgba(244, 67, 54, 0.1)',
                border: '1px solid #f44336',
                borderRadius: 'var(--border-radius)',
                padding: '1rem',
                marginBottom: '1rem'
              }
            }, aboutError)
          ) : (
            React.createElement('div', {
              style: {
                lineHeight: '1.8',
                fontSize: '1.1rem',
                whiteSpace: 'pre-wrap'
              }
            }, aboutContent)
          )
        ]),
        
        // 底部GitHub链接
        React.createElement('footer', {
          style: {
            backgroundColor: 'rgba(255, 255, 255, 0.85)',
            backgroundImage: 'linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(245, 245, 245, 0.95))',
            borderTop: '1px solid var(--border-color)',
            padding: '2rem',
            textAlign: 'center',
            marginTop: '4rem',
            boxShadow: 'var(--shadow-md)'
          }
        }, [
          React.createElement('a', {
            href: 'https://github.com/hzdczsr/chenguang-futurestar',
            target: '_blank',
            rel: 'noopener noreferrer',
            style: {
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'center',
              gap: '1rem',
              textDecoration: 'none',
              color: 'var(--text-color)',
              transition: 'var(--transition)',
              padding: '1rem',
              borderRadius: 'var(--border-radius)'
            },
            onMouseEnter: (e) => {
              e.target.style.backgroundColor = 'rgba(0, 120, 212, 0.1)';
              e.target.style.transform = 'translateY(-2px)';
            },
            onMouseLeave: (e) => {
              e.target.style.backgroundColor = 'transparent';
              e.target.style.transform = 'translateY(0)';
            }
          }, [
            React.createElement('img', {
              src: 'github.png',
              alt: 'GitHub',
              style: {
                width: '32px',
                height: '32px',
                borderRadius: 'var(--border-radius)'
              }
            }),
            React.createElement('span', {
              style: {
                fontSize: '1rem',
                fontWeight: '500'
              }
            }, '“辰光未来星”已被作者永久托管至GitHub，请放心使用（网站版本：1.0.0Developer 更新日期：2025年2月11日）')
          ])
        ])
      ]);
    }

    // 渲染应用
    ReactDOM.createRoot(document.getElementById('root')).render(
      React.createElement(React.StrictMode, null, React.createElement(App))
    );
  </script>
  <!-- 引入React和ReactDOM -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
</body>
</html>